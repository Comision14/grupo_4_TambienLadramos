<!DOCTYPE html>
<html lang="es">

    <%- include('../partials/head') %>

<body>
    
    <%- include('../partials/header') %>
    
<main>

    <h2 class="profile-title"><%= userProfile.rol === "user" ? "Perfil de Usuario" : "Perfil de Administrador" %> </h2>

    <section class="profile-conjunto">
        <article class="profile-user"> 
            <h2><%= userProfile.name %></h2>
            <% if (userProfile.avatar === 'null' || 'undefined') { %>
                <div>
                    <img src="/images/avatars/perro-informatico.png %> " alt="" id="avatar-preview">
                </div>
            <% } else { %>
                <div>
                    <img src="/images/avatars/<%= userProfile.avatar %> " alt="" id="avatar-preview">
                </div>
            <% } %>           
            
            <form action="/users/update-profile" enctype="multipart/form-data">
                <label style="cursor: pointer; color: var(--marron);" for="avatar"><i class="fa-solid fa-pen-to-square fa-2x"></i>Editar</label>
                <input type="file" hidden id="avatar" onchange="changeAvatar(event)">
                <script>
                    const changeAvatar = (e) => {
                        let reader = new FileReader();
                        reader.readAsDataURL(e.target.files[0])
                        reader.onload = () => {
                            document.getElementById('avatar-preview').src = reader.result
                        }
                    }
                </script>
            </form>
        </article>
        <article class="profile-info">
            <h2>datos</h2>
            <div class="profile-detalle">
                <p>nombre: <%= userProfile.name %></p>
                <p>tu email: <%= userProfile.email %></p>
                <p>mascota: <%= userProfile.mascota %></p>
            </div>
                <article>
                    <a href="/users/edit-profile/<%= userProfile.id %>" style="margin-left: 2vw; color: var(--marron);">
                        <i class="fa-solid fa-pen-to-square">Editar datos del perfil</i>
                    </a>  
                </article>
        </article>
    </section>  

</main>
    
    <%- include('../partials/footer') %>

</body>
</html>